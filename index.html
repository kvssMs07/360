<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, shrink-to-fit=no">
        <link rel="stylesheet" href="css/style.css">
        <title>Panolens.js GROUPE 1</title>
    </head>

    <body>

    <!-- <div class="credit"><a href="https://github.com/pchen66/panolens.js">Panolens.js</a> image panorama example. Image from <a href="http://adaptivesamples.com/tag/equirectangular/">Adaptive Samples</a></div> -->
    
    <script src="js/three.min.js"></script>
    <script src="js/panolens.min.js"></script>
    <script>
    var field = true;

    //---- Image ----//
    const pic1 =new PANOLENS.ImagePanorama('img/balcon_i8.jpg');
    const pic3 =new PANOLENS.ImagePanorama('img/entree_i8.jpg');
    const pic5 =new PANOLENS.ImagePanorama('img/i16.jpg');
    const pic4 =new PANOLENS.ImagePanorama('img/exterieur_salle_i18.jpg');
    const pic2 =new PANOLENS.ImagePanorama('img/interieur_i8.jpg');

    const viewer = new PANOLENS.Viewer({ output : 'console'});

    //---- Placement ----//
    const theta =Math.PI/10;
    const phi = Math.PI;
    var rayon =pic1.radius;
    console.log("Rayon : " + rayon);

    //---- Position ----//
    var position = new THREE.Vector3(
        rayon * Math.cos(theta) * Math.sin(phi),
        rayon * Math.sin(theta),
        rayon * Math.cos(theta) * Math.cos(phi)
    );

    var taille = 300;

    //----- InfoSpot -----//

    //balcon i8
    //balconi8 vers interieur i8
    onFocus(pic1, pic2, 642.90, -1438.28, 4736.59);

    // interieur i8
    //interieur i8 vers balcon i8
    onFocus(pic2, pic1, -4981.21, -158.31, 239.80);

    //interieur i8 vers entree i8
    onFocus(pic2, pic3, 4966.56, -543.82, -1.82);

    //entree i8
    //entree i8 vers interieur i8
    onFocus(pic3, pic2, 79.71, -520.43, -4965.24);

    //entree i8 vers exterieur salle i18
    onFocus(pic3, pic4, 4983.67, -394.06, -13.51);

    // exterieur salle i18
    // exterieur i18 vers entree i8
    onFocus(pic4, pic3, -4990.27, 91.75, 116.84);

    //exterieur i18 vers i16
    onFocus(pic4, pic5, -1691.34, -43.57, 4697.31);

    // i16
    // i16 vers exterieur i18
    onFocus(pic5, pic4, 891.83, 297.42, -4902.32);

    

    function onFocus(pic1, pic2, pos1, pos2, pos3) {

    var infospot = new PANOLENS.Infospot(300, PANOLENS.DataImage.Info);
    infospot.position.set(pos1, pos2, pos3);
    infospot.addEventListener("click", () => {
        viewer.remove(pic1);
        viewer.add(pic2);
        viewer.setPanorama(pic2);
    });
    pic1.add(infospot);
    viewer.add(pic1);
    }

    </script>Â²

    </body>
</html>